<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="ç»„ç»‡æ¶æ„æ ‘æ˜¯é¡¹ç›®ä¸­ç‰¹åˆ«å¸¸è§çš„ä¸€ç±»ç»„ä»¶ï¼Œæˆ‘ä¸€èˆ¬éƒ½ç”¨ztreeï¼Œå‰ä¸¤å¤©åˆç”¨åˆ°è¿™ä¸ªï¼Œä¸è¿‡éœ€æ±‚è·Ÿå¹³æ—¶æœ‰ç‚¹åŒºåˆ«ï¼Œæˆ‘æ„Ÿè§‰ä¹Ÿç®—æ¯”è¾ƒå¸¸è§ï¼Œå°±æŠŠä»–ç¨å¾®æ•´ç†ä¸€ä¸‹ã€‚ éœ€æ±‚å¤§è‡´æ˜¯è¿™æ ·ï¼šä¸€ä¸ªæ™®é€šçš„æ ‘ç»“æ„ï¼Œç‚¹å‡»ç¼–è¾‘ã€‚  ä¼šå¼¹å‡ºæ¥æ“ä½œæŒ‰é’®ï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰å¢åˆ æ”¹çš„æƒé™ï¼Œå¯¹è¯¥èŠ‚ç‚¹ä¸å…·å¤‡çš„æƒé™ä¼šç½®ç°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚  æˆ‘ä»¬çŸ¥é“ztreeæ˜¯å¸¦ç¼–è¾‘åŠŸèƒ½çš„ï¼Œä½†æ˜¯é•¿è¿™æ ·å­  è€Œä¸”ztreeçš„å®˜æ–¹demoçš„ç¼–è¾‘æŒ‰é’®æ˜¯åœ¨é¼ æ ‡hoveråˆ°èŠ‚">
<meta name="keywords" content="ztree">
<meta property="og:type" content="article">
<meta property="og:title" content="ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘">
<meta property="og:url" content="http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/index.html">
<meta property="og:site_name" content="troubledot&#39;blog">
<meta property="og:description" content="ç»„ç»‡æ¶æ„æ ‘æ˜¯é¡¹ç›®ä¸­ç‰¹åˆ«å¸¸è§çš„ä¸€ç±»ç»„ä»¶ï¼Œæˆ‘ä¸€èˆ¬éƒ½ç”¨ztreeï¼Œå‰ä¸¤å¤©åˆç”¨åˆ°è¿™ä¸ªï¼Œä¸è¿‡éœ€æ±‚è·Ÿå¹³æ—¶æœ‰ç‚¹åŒºåˆ«ï¼Œæˆ‘æ„Ÿè§‰ä¹Ÿç®—æ¯”è¾ƒå¸¸è§ï¼Œå°±æŠŠä»–ç¨å¾®æ•´ç†ä¸€ä¸‹ã€‚ éœ€æ±‚å¤§è‡´æ˜¯è¿™æ ·ï¼šä¸€ä¸ªæ™®é€šçš„æ ‘ç»“æ„ï¼Œç‚¹å‡»ç¼–è¾‘ã€‚  ä¼šå¼¹å‡ºæ¥æ“ä½œæŒ‰é’®ï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰å¢åˆ æ”¹çš„æƒé™ï¼Œå¯¹è¯¥èŠ‚ç‚¹ä¸å…·å¤‡çš„æƒé™ä¼šç½®ç°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚  æˆ‘ä»¬çŸ¥é“ztreeæ˜¯å¸¦ç¼–è¾‘åŠŸèƒ½çš„ï¼Œä½†æ˜¯é•¿è¿™æ ·å­  è€Œä¸”ztreeçš„å®˜æ–¹demoçš„ç¼–è¾‘æŒ‰é’®æ˜¯åœ¨é¼ æ ‡hoveråˆ°èŠ‚">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://res.troubledot.cn/edit.png">
<meta property="og:image" content="http://res.troubledot.cn/WX20180830-122042@2x.png">
<meta property="og:image" content="http://res.troubledot.cn/ztree.png">
<meta property="og:updated_time" content="2019-07-20T10:16:33.187Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘">
<meta name="twitter:description" content="ç»„ç»‡æ¶æ„æ ‘æ˜¯é¡¹ç›®ä¸­ç‰¹åˆ«å¸¸è§çš„ä¸€ç±»ç»„ä»¶ï¼Œæˆ‘ä¸€èˆ¬éƒ½ç”¨ztreeï¼Œå‰ä¸¤å¤©åˆç”¨åˆ°è¿™ä¸ªï¼Œä¸è¿‡éœ€æ±‚è·Ÿå¹³æ—¶æœ‰ç‚¹åŒºåˆ«ï¼Œæˆ‘æ„Ÿè§‰ä¹Ÿç®—æ¯”è¾ƒå¸¸è§ï¼Œå°±æŠŠä»–ç¨å¾®æ•´ç†ä¸€ä¸‹ã€‚ éœ€æ±‚å¤§è‡´æ˜¯è¿™æ ·ï¼šä¸€ä¸ªæ™®é€šçš„æ ‘ç»“æ„ï¼Œç‚¹å‡»ç¼–è¾‘ã€‚  ä¼šå¼¹å‡ºæ¥æ“ä½œæŒ‰é’®ï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰å¢åˆ æ”¹çš„æƒé™ï¼Œå¯¹è¯¥èŠ‚ç‚¹ä¸å…·å¤‡çš„æƒé™ä¼šç½®ç°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚  æˆ‘ä»¬çŸ¥é“ztreeæ˜¯å¸¦ç¼–è¾‘åŠŸèƒ½çš„ï¼Œä½†æ˜¯é•¿è¿™æ ·å­  è€Œä¸”ztreeçš„å®˜æ–¹demoçš„ç¼–è¾‘æŒ‰é’®æ˜¯åœ¨é¼ æ ‡hoveråˆ°èŠ‚">
<meta name="twitter:image" content="http://res.troubledot.cn/edit.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/logo.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png">
          
        
    
    <!-- title -->
    <title>ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Blog</a></li>
         
          <li><a href="https://github.com/Troubledot">Projects</a></li>
         
          <li><a href="/URL">LINK_NAME</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/12/03/ç³»ç»Ÿå­¦ä¹ ES6ä¸€/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/08/06/ç¼–è¯‘åŸç†å­¦ä¹ ç¬”è®°-å¼•è®º/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&text=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&is_video=false&description=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘&body=Check out this article: http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&name=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">troubledot'blog</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-08-29T03:10:04.000Z" itemprop="datePublished">2018-08-29</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/ztree/">ztree</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>ç»„ç»‡æ¶æ„æ ‘æ˜¯é¡¹ç›®ä¸­ç‰¹åˆ«å¸¸è§çš„ä¸€ç±»ç»„ä»¶ï¼Œæˆ‘ä¸€èˆ¬éƒ½ç”¨<a href="http://www.ztree.me/" target="_blank" rel="noopener">ztree</a>ï¼Œå‰ä¸¤å¤©åˆç”¨åˆ°è¿™ä¸ªï¼Œä¸è¿‡éœ€æ±‚è·Ÿå¹³æ—¶æœ‰ç‚¹åŒºåˆ«ï¼Œæˆ‘æ„Ÿè§‰ä¹Ÿç®—æ¯”è¾ƒå¸¸è§ï¼Œå°±æŠŠä»–ç¨å¾®æ•´ç†ä¸€ä¸‹ã€‚</p>
<p>éœ€æ±‚å¤§è‡´æ˜¯è¿™æ ·ï¼šä¸€ä¸ªæ™®é€šçš„æ ‘ç»“æ„ï¼Œç‚¹å‡»ç¼–è¾‘ã€‚</p>
<p><img src="http://res.troubledot.cn/edit.png" alt="å›¾1"></p>
<p>ä¼šå¼¹å‡ºæ¥æ“ä½œæŒ‰é’®ï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰å¢åˆ æ”¹çš„æƒé™ï¼Œå¯¹è¯¥èŠ‚ç‚¹ä¸å…·å¤‡çš„æƒé™ä¼šç½®ç°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="http://res.troubledot.cn/WX20180830-122042@2x.png" alt="å›¾2"></p>
<p>æˆ‘ä»¬çŸ¥é“ztreeæ˜¯å¸¦ç¼–è¾‘åŠŸèƒ½çš„ï¼Œä½†æ˜¯é•¿è¿™æ ·å­</p>
<p><img src="http://res.troubledot.cn/ztree.png" alt="å›¾3"></p>
<p>è€Œä¸”ztreeçš„å®˜æ–¹demoçš„ç¼–è¾‘æŒ‰é’®æ˜¯åœ¨é¼ æ ‡hoveråˆ°èŠ‚ç‚¹ä»¥åæ‰å¼¹å‡ºæ¥çš„ï¼Œæ˜¾ç„¶è·Ÿæˆ‘ä»¬çš„éœ€æ±‚ä¸ç¬¦åˆã€‚æˆ‘çœ‹äº†ä¸‹ä»£ç ï¼Œå‘ç°åˆ é™¤å’Œç¼–è¾‘ç”¨çš„æ˜¯è¿™ä¸¤ä¸ªAPI</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">editName(node)    <span class="comment">//å‚æ•°ä¸ºè¦æ“ä½œçš„èŠ‚ç‚¹</span></span><br><span class="line">removeNode (node, callbackFlag) <span class="comment">//å‚æ•°ä¸ºè¦æ“ä½œçš„èŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure>
<p>é¼ æ ‡çš„hoverå…¶å®ä¸æ˜¯ä¼ªç±»:hover,è€Œæ˜¯è°ƒç”¨äº† addHoverDom å’Œ removeHoverDomè¿™ä¸¤ä¸ªAPIï¼Œç›®çš„æ˜¯æ‹¿åˆ°è¦æ“ä½œçš„èŠ‚ç‚¹ã€‚å†çœ‹æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå‘ç°æˆ‘ä»¬éœ€è¦æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ˆztreeå¯¹è±¡çš„getNodes()æ–¹æ³•å¯ä»¥æ‹¿åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦è®©æ¯ä¸ªèŠ‚ç‚¹çš„æ“ä½œæŒ‰é’®éƒ½æ˜¾ç¤ºå‡ºæ¥ã€‚<br>åŸºæœ¬æ€è·¯ï¼šéå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œç„¶åæ“ä½œè¯¥èŠ‚ç‚¹å¯¹åº”çš„domï¼Œæ‹¼æ¥æ“ä½œæŒ‰é’®å›¾æ ‡ï¼ˆè¿™é‡Œéœ€è¦åˆ¤æ–­æ˜¯å¦æœ‰æƒé™ï¼Œæ ¹æ®æƒé™æ‹¼æ¥ä¸åŒçš„å›¾æ ‡ï¼‰ï¼Œå†ç»™æŒ‰é’®ç»‘å®šäº‹ä»¶ï¼Œè°ƒç”¨å¯¹åº”æ“ä½œçš„APIï¼›</p>
<p> ä»£ç å¦‚ä¸‹ï¼Œå› ä¸ºè¿˜æœ‰åœ°æ–¹è¦è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘å°†å…¶å°è£…æˆäº†æ–¹æ³•</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">addnewBtn</span>(<span class="params">nodeList</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newCount = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> zTree = $.fn.zTree.getZTreeObj(<span class="string">"tree"</span>);</span><br><span class="line">    nodeList.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">element, index</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> sObj = $(<span class="string">"#"</span> + element.tId + <span class="string">"_span"</span>);</span><br><span class="line">        <span class="keyword">if</span> (zTree.setting.edit.enable) &#123;     <span class="comment">//åˆ¤æ–­å½“å‰æ˜¯å¦å¯ä»¥ç¼–è¾‘</span></span><br><span class="line">            <span class="keyword">var</span> addable = (element.addable == <span class="literal">undefined</span>) || (element.addable == <span class="literal">true</span>) ? <span class="string">"addable"</span> : <span class="string">""</span>; <span class="comment">//æ–°å¢æƒé™ æƒé™å¢åŠ äº†ä¸€ä¸ªableçš„æ ‡è®°ï¼Œæ ¹æ®classå–ä¸åŒå›¾ç‰‡ï¼Œä¸‹é¢ç»‘å®šäº‹ä»¶ä¹Ÿæ˜¯ç»‘åœ¨è¯¥classä¸Š ä¸‹åŒ</span></span><br><span class="line">            <span class="keyword">var</span> editable = (element.editable == <span class="literal">undefined</span>) || (element.editable == <span class="literal">true</span>) ? <span class="string">"editable"</span> : <span class="string">""</span>;   <span class="comment">//ç¼–è¾‘æƒé™</span></span><br><span class="line">            <span class="keyword">var</span> removeable = (element.removeable == <span class="literal">undefined</span>) || (element.removeable == <span class="literal">true</span>) ? <span class="string">"removeable"</span> : <span class="string">""</span>;  <span class="comment">//åˆ é™¤æƒé™</span></span><br><span class="line">            <span class="keyword">if</span> (element.editNameFlag || $(<span class="string">"#addBtn_"</span> + element.tId).length &gt; <span class="number">0</span> || $(<span class="string">"#remove_"</span> + element.tId).length &gt; <span class="number">0</span> || $(<span class="string">"#edit_"</span> + element.tId).length &gt; <span class="number">0</span>) <span class="keyword">return</span>;  <span class="comment">//æœ‰æŒ‰é’®å°±ä¸å†åŠ äº†</span></span><br><span class="line">            <span class="keyword">var</span> addStr = <span class="string">"&lt;span class='button add "</span> + addable + <span class="string">"' id='addBtn_"</span> + element.tId +</span><br><span class="line">                <span class="string">"' title='add node' onfocus='this.blur();'&gt;&lt;/span&gt;"</span>; <span class="comment">//æ·»åŠ æŒ‰é’®</span></span><br><span class="line">            <span class="keyword">var</span> editStr = <span class="string">"&lt;span class='button edit "</span> + editable + <span class="string">"' id='edit_"</span> + element.tId +<span class="string">"' title='rename' onfocus='this.blur();'&gt;&lt;/span&gt;"</span>; <span class="comment">//ç¼–è¾‘æŒ‰é’®</span></span><br><span class="line">            <span class="keyword">var</span> delStr = <span class="string">"&lt;span class='button remove "</span> + removeable + <span class="string">"' id='remove_"</span> + element.tId + <span class="string">"' title='remove' onfocus='this.blur();'&gt;&lt;/span&gt;"</span>; <span class="comment">//åˆ é™¤æŒ‰é’®</span></span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">allstr</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> allstr;</span><br><span class="line">                <span class="keyword">if</span> (element.isParent) &#123;</span><br><span class="line">                    allstr = addStr + editStr + delStr;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    allstr = editStr + delStr;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> allstr;</span><br><span class="line">            &#125;   <span class="comment">// å­èŠ‚ç‚¹ä¸éœ€è¦æ–°å¢æŒ‰é’®</span></span><br><span class="line">            sObj.after(allstr()); <span class="comment">//æ‹¼æ¥html</span></span><br><span class="line">            <span class="keyword">if</span> ((element.addable == <span class="literal">undefined</span>) || (element.addable == <span class="literal">true</span>)) &#123;</span><br><span class="line">                <span class="keyword">var</span> btn = $(<span class="string">"#addBtn_"</span> + element.tId);  <span class="comment">//å–åˆ°æœ‰æƒé™çš„æ·»åŠ æŒ‰é’®</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (btn) btn.bind(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  <span class="comment">//ç»™æ·»åŠ æŒ‰é’®ç»‘å®šäº‹ä»¶</span></span><br><span class="line">                <span class="keyword">var</span> newnode = zTree.addNodes(element, &#123; <span class="attr">id</span>: (<span class="number">100</span> + newCount), <span class="attr">pId</span>: element.id, <span class="attr">name</span>: <span class="string">"new node"</span> + (newCount++), <span class="attr">isParent</span>: <span class="literal">true</span> &#125;, <span class="literal">true</span>); <span class="comment">//æ–°å¢æ–‡ä»¶å¤¹ï¼ˆé»˜è®¤æ–°å¢çš„æ˜¯æ–‡ä»¶ éœ€æ±‚æœ‰ç‚¹æ€ªğŸ˜‚ï¼‰</span></span><br><span class="line">                <span class="keyword">var</span> tId = newnode[<span class="number">0</span>].tId; <span class="comment">//æ·»åŠ çš„èŠ‚ç‚¹  è·å–è¿™ä¸ªæ˜¯å› ä¸ºæ·»åŠ çš„æ˜¯æ–‡ä»¶å¤¹ æ‰€ä»¥ä»–è¿˜èƒ½ç»§ç»­æ·»åŠ </span></span><br><span class="line">                <span class="keyword">var</span> nStr = <span class="string">"&lt;span class='button add addable' id='addBtn_"</span> + tId + <span class="string">"' title='add node' onfocus='this.blur();'&gt;&lt;/span&gt;&lt;span class='button edit editable' id='edit_"</span> + tId + <span class="string">"' title='rename' onfocus='this.blur();'&gt;&lt;/span&gt;&lt;span class='button remove removeable' id='remove_"</span> + tId + <span class="string">"' title='remove' onfocus='this.blur();'&gt;&lt;/span&gt;"</span>; </span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> nobj = $(<span class="string">"#"</span> + tId + <span class="string">"_span"</span>).after(nStr); <span class="comment">//ç»™æ·»åŠ çš„èŠ‚ç‚¹åé¢åŠ æ“ä½œæŒ‰é’®</span></span><br><span class="line">                <span class="keyword">var</span> nbtn = $(<span class="string">"#addBtn_"</span> + tId);</span><br><span class="line">                nbtn.bind(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  <span class="comment">//ç»™æ·»åŠ çš„èŠ‚ç‚¹ä¸Šçš„æ·»åŠ æŒ‰é’®ç»‘å®šäº‹ä»¶</span></span><br><span class="line">                    <span class="comment">/* Act on the event */</span></span><br><span class="line">                    zTree.addNodes(newnode[<span class="number">0</span>], &#123; <span class="attr">id</span>: (<span class="number">1000</span> + newCount), <span class="attr">pId</span>: newnode[<span class="number">0</span>].id, <span class="attr">name</span>: <span class="string">"new node"</span> + (newCount++), <span class="attr">isParent</span>: <span class="literal">true</span> &#125;, <span class="literal">true</span>);</span><br><span class="line">                &#125;);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬å‘ç°å¢å’Œåˆ ã€æ”¹æ˜¯æœ‰åŒºåˆ«çš„ã€‚ å…¶å®æ¯”è¾ƒå¥½ç†è§£ï¼Œåˆ å’Œæ”¹æˆ‘ä»¬åªéœ€è¦çŸ¥é“æ“ä½œçš„å¯¹è±¡å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æ·»åŠ çš„æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“æ·»åŠ çš„å†…å®¹ã€‚  </p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå’±ä»¬æ·»åŠ çš„è¿™å‡ ä¸ªæ“ä½œæŒ‰é’®åªå¯¹å±•å¼€çš„èŠ‚ç‚¹æœ‰ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´å½“æˆ‘ä»¬ç‚¹å‡»ç¼–è¾‘ä»¥åï¼Œå±•å¼€é‚£äº›ä¸€å¼€å§‹æ²¡æœ‰å±•å¼€çš„èŠ‚ç‚¹ï¼Œå‘ç°ä»–ä»¬çš„å­èŠ‚ç‚¹æ˜¯æ²¡æœ‰æ“ä½œæŒ‰é’®çš„ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸ç¬¦åˆæˆ‘ä»¬éœ€æ±‚çš„ã€‚æœ€ç®€å•çš„åŠæ³•ï¼Œç”¨èŠ‚ç‚¹å±•å¼€çš„å›è°ƒå‡½æ•°onExpandï¼Œå±•å¼€èŠ‚ç‚¹çš„æ—¶å€™ç»™ä»–æ‰€æœ‰çš„å­èŠ‚ç‚¹æ·»åŠ æŒ‰é’®ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å°è£…addnewBtnçš„ä¸»è¦åŸå› </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zTreeOnExpand</span>(<span class="params">event, treeId, treeNode</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> treeObj = $.fn.zTree.getZTreeObj(<span class="string">"tree"</span>);</span><br><span class="line">    <span class="keyword">var</span> nodes = treeObj.getNodesByFilter(filter,<span class="literal">false</span>,treeNode); <span class="comment">// æŸ¥æ‰¾å­èŠ‚ç‚¹é›†åˆ</span></span><br><span class="line">    addnewBtn(nodes);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢å°±å‰©ä¸‹ç¼–è¾‘å’Œåˆ é™¤äº†ï¼Œæˆ‘ä»¬å‰é¢åªæ˜¯æ‹¼äº†ä¸ªæŒ‰é’®ä¸Šå»ï¼Œå¹¶æ²¡æœ‰åšåŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> operateNode;  <span class="comment">//å®šä¹‰ä¸€ä¸ªå˜é‡å­˜å½“å‰æ“ä½œçš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zTreeOnClick</span>(<span class="params">event, treeId, treeNode</span>) </span>&#123;</span><br><span class="line">    operateNode = treeNode;  <span class="comment">//è·å–å½“å‰æ“ä½œçš„èŠ‚ç‚¹å­˜å…¥ operateNode</span></span><br><span class="line">&#125;;</span><br><span class="line">$(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'.button.edit.editable'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;  <span class="comment">//äº‹ä»¶ç»‘å®šåˆ°editable ä¸Šæ˜¯ä¸ºäº†åŒºåˆ†æƒé™ ä¸‹åŒ</span></span><br><span class="line">    <span class="keyword">var</span> treeObj = $.fn.zTree.getZTreeObj(<span class="string">"tree"</span>);</span><br><span class="line">    treeObj.editName(operateNode);    <span class="comment">// ç¼–è¾‘èŠ‚ç‚¹</span></span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'.button.remove.removeable'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> treeObj = $.fn.zTree.getZTreeObj(<span class="string">"tree"</span>);</span><br><span class="line">    treeObj.removeNode(operateNode);   <span class="comment">// åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œåªæ˜¯éƒ¨åˆ†ä»£ç ï¼Œ<a href="https://github.com/Troubledot/Common-components" target="_blank" rel="noopener">å®Œæ•´çš„ä»£ç åœ¨è¿™é‡Œ</a>ï¼Œè‡ªå·±æ•´ç†çš„å¾ˆç®€å•çš„ä¸œè¥¿ï¼Œå¦‚æœè¿æ°”å¥½èƒ½å¸®åˆ°åˆ«äººï¼Œé‚£å°±å¤ªæ£’äº†ã€‚</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Blog</a></li>
         
          <li><a href="https://github.com/Troubledot">Projects</a></li>
         
          <li><a href="/URL">LINK_NAME</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&text=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&is_video=false&description=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘&body=Check out this article: http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&title=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://finding.kim/2018/08/29/ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘/&name=ztreeçš„è‡ªå®šä¹‰ç¼–è¾‘&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 troubledot
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Blog</a></li>
         
          <li><a href="https://github.com/Troubledot">Projects</a></li>
         
          <li><a href="/URL">LINK_NAME</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?2e6da3c375c8a87f5b664cea6d4cb29c";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->


